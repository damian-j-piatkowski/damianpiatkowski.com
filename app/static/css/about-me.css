/* Common styles */
.about-section {
    position: relative;
    overflow: hidden;
    flex: 1; /* Make it a flex item that grows to fill its parent */
    height: 100%; /* Explicitly set height to 100% of its flex parent */
}

.about-section .container-fluid {
    padding: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.about-section .row.no-gutters {
    margin: 0;
    width: 100%;
    height: 100%; /* This will now be 100% of its flex parent (.container-fluid) */
    display: flex;
    flex-direction: column; /* Default to column stacking for mobile-first */
    position: relative; /* Make row the positioning context for absolute children */
}

/* Styles for the image column - Common adjustments */
.about-section picture,
.about-section img {
    width: 100%;
    height: 100%; /* Default height for image within its container */
    object-fit: contain; /* Default object-fit (can be overridden) */
    display: block;
}

.about-content-overlay {
    position: relative; /* Default relative for stacked layout */
    width: 100%;
    height: 100%; /* Default height for stacked layout */
    padding: 2rem;
    display: flex;
    flex: 1; /* Allow content to grow within overlay */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #ECEFF4; /* Default background color */
    color: #666666; /* Default text color */
}

.about-content {
    color: inherit;
    text-align: center;
    max-width: 600px;
    padding: 10%;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

@media (min-width: 1200px) {
    /* Make sure all parent containers take full viewport height */
    .about-section {
        min-height: 100vh;
        position: relative;
        overflow: hidden;
    }

    .about-section .container-fluid {
        min-height: 100vh;
        padding: 0;
        position: relative;
    }

    .about-section .row.no-gutters {
        min-height: 100vh;
        margin: 0;
        position: relative;
    }

    /* For desktop, both col-lg-6 containers should effectively fill the row and stack with Z-index. */
    .about-section .col-lg-6 {
        position: absolute;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100vh !important; /* Force viewport height */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-end;
    }

    /* For the image column specifically on desktop */
    .about-section .col-lg-6:first-child {
        z-index: 1;
    }

    .about-section .col-lg-6:last-child {
        z-index: 2;
        padding-right: 5%;
        padding-left: 5%;
        box-sizing: border-box;
    }

    /* Make sure the picture and img elements take full height */
    .about-section picture {
        height: 100vh;
        width: 100%;
        display: block;
    }

    .about-section img {
        object-fit: cover;
        height: 100vh !important; /* Force viewport height */
        width: 100%;
        display: block;
    }

    .about-content-overlay {
        position: relative;
        width: 100%;
        height: 100%;
        background: none;
        color: #fff;
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
        padding: 30;
    }

    .about-content {
        text-align: right;
        max-width: 500px;
        margin: 0;
        padding: 0;
    }
}

@media (min-width: 768px) and (max-width: 1199px) {
    .about-section .row.no-gutters {
        flex-direction: column !important; /* Ensure column stacking for these resolutions */
        height: 100%; /* Take full available height, now relative to flex: 1 on about-section */
        flex: 1; /* Allow row to grow to fill parent */
    }

    /* Apply forced width/height for col-lg-6 elements in this range (e.g., Nest Hub 1024x600) */
    .about-section .col-lg-6 {
        position: relative;
        width: 100% !important; /* Force full width for stacking */
        height: 50% !important; /* Force half height for stacking */
        display: flex;
        flex-direction: column; /* Ensure content within column stacks */
        flex: 1; /* Allow column to grow within its 50% height */
        margin: 0;
        padding: 0;
    }

    .about-section picture,
    .about-section img {
        object-fit: cover;
        height: 100%; /* Fill the 50% height of its parent column */
        width: 100%;
    }

    .about-content-overlay {
        position: relative;
        height: 100%; /* Fill the 50% height of its parent column */
        background: #ECEFF4;
        color: #666666;
        padding: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }

    .about-content {
        text-align: center;
        padding: 0;
        max-width: 600px;
        margin: auto;
        color: inherit;
    }
}

@media (min-width: 1280px) and (max-width: 1350px) and (orientation: landscape) {
    .about-section .row.no-gutters {
        flex-direction: column !important; /* FORCE column stacking for Nest Hub */
        height: 100%;
        flex: 1;
        position: relative; /* Make row positioning context */
    }

    .about-section .col-lg-6 {
        position: relative; /* Ensure these are relative for stacking */
        width: 100% !important; /* FORCE full width for stacking */
        height: 50% !important; /* FORCE half height for stacking */
        display: flex;
        flex-direction: column;
        flex: 1; /* Allow columns to grow within their 50% height */
        margin: 0; /* Remove any residual margins */
        padding: 0; /* Remove any residual padding */
    }

    .about-section picture,
    .about-section img {
        object-fit: cover;
        height: 100%;
        width: 100%;
    }

    .about-content-overlay {
        position: relative; /* Ensure it's relative for stacking within its col */
        width: 100%;
        height: 100%;
        padding: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #ECEFF4;
        color: #666666;
        box-sizing: border-box;
    }

    .about-content {
        text-align: center;
        padding: 2rem;
        max-width: 600px;
        margin: auto;
        color: inherit;
    }
}

@media (max-width: 767px) {
    .about-section .row.no-gutters {
        flex-direction: column; /* Stack columns vertically */
        height: auto;
        flex: none;
    }

    .about-section .col-12 {
        height: auto;
        flex: none;
    }

    .about-section picture,
    .about-section img {
        object-fit: cover;
        height: 50vh;
    }

    .about-content-overlay {
        position: relative;
        height: auto;
        background: #ECEFF4;
        color: #666666;
        flex: none;
        padding: 2rem;
    }

    .about-content {
        width: 100%;
        text-align: center;
        padding: 0;
        color: inherit;
    }
}